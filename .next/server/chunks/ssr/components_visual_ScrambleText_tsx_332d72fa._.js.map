{"version":3,"sources":["../../../../components/visual/ScrambleText.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nconst GLYPHS = \"#$%&*+<>?/\\\\0123456789\";\n\ninterface ScrambleTextProps {\n  text: string;\n  className?: string;\n}\n\nexport function ScrambleText({ text, className }: ScrambleTextProps) {\n  const [output, setOutput] = useState(text.replace(/./g, \" \"));\n\n  useEffect(() => {\n    let frameId: number;\n    const chars = text.split(\"\");\n    const total = chars.length;\n    let frame = 0;\n\n    const step = () => {\n      const progress = Math.min(1, frame / (total + 8));\n      const revealed = Math.floor(progress * total);\n\n      const next = chars.map((ch, idx) => {\n        if (idx < revealed || ch === \" \") return ch;\n        if (Math.random() < 0.5) {\n          return GLYPHS[Math.floor(Math.random() * GLYPHS.length)];\n        }\n        return ch;\n      });\n\n      setOutput(next.join(\"\"));\n      frame += 1;\n\n      if (progress < 1) {\n        frameId = requestAnimationFrame(step);\n      }\n    };\n\n    frameId = requestAnimationFrame(step);\n    return () => cancelAnimationFrame(frameId);\n  }, [text]);\n\n  return <p className={className}>{output}</p>;\n}\n\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAS,yBAOR,SAAS,EAAa,CAAE,MAAI,WAAE,CAAS,CAAqB,EACjE,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAK,OAAO,CAAC,KAAM,MAgCxD,MA9BA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,IADI,EACE,EAAQ,EAAK,KAAK,CAAC,IACnB,EAAQ,EAAM,MAAM,CACtB,EAAQ,EAEN,EAAO,KACX,IAAM,EAAW,KAAK,GAAG,CAAC,EAAG,GAAS,GAAQ,CAAC,CAAV,CAC/B,EAAW,KAAK,KAAK,CAAC,EAAW,GAUvC,EARa,AAQH,EARS,GAAG,CAAC,CAAC,EAAI,IACtB,AAAJ,EAAU,GAAmB,KAAK,CAAZ,EAAmB,EACrB,GAAhB,EAAqB,GAAhB,MAAM,GACN,CAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,GAAK,EAAO,MAAM,EAAE,CAEnD,GAGM,IAAI,CAAC,KACpB,GAAS,EAEL,EAAW,GAAG,CAChB,EAAU,sBAAsB,EAAA,CAEpC,EAGA,OADA,EAAU,sBAAsB,GACzB,IAAM,qBAAqB,EACpC,EAAG,CAAC,EAAK,EAEF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,WAAY,GACnC"}